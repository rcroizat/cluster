<!DOCTYPE html>
<html lang="fr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
    <title>Cluster</title>
    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
</head>

<body>
    <nav class="white" role="navigation">
        <div class="nav-wrapper container">
            <a id="logo-container" href="#" class="brand-logo">Cluster</a>
            <ul class="right hide-on-med-and-down">
                <li><a href="#">Mon compte</a></li>
                <li><a href="#">Dashboard</a></li>
            </ul>
            <ul id="nav-mobile" class="side-nav">
                <li><a href="#">Mon compte</a></li>
                <li><a href="#">Dashboard</a></li>
            </ul>
            <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
        </div>
    </nav>
    <div class="container">
        <div class="section">
            <div class="row" id="formDetails">
                <h4>Fiche produit</h4>
                <div class="section col s6 offset-s2" field="1">
                    <h5><div class="edit">Nom du champs</div></h5>
                    <div class="input-field col s4 editeur">
                        <select>
                            <option value="" disabled selected>Type du champ</option>
                            <option value="date">date</option>
                            <option value="text">text</option>
                            <option value="numéro">numéro</option>
                        </select>
                    </div>
                    <p class="editable">Type du champs
                        <a href="#!" class="secondary-content"><i class="material-icons delete" field="1">delete</i></a>
                    </p>
                    <div class="clear"></div>
                    <div class="divider"></div>
                </div>
                <div class="section col s6 offset-s2" field="2">
                    <h5><div class="edit">Nom du champs</div></h5>
                    <div class="input-field col s4 editeur">
                        <select>
                            <option value="" disabled selected>Type du champ</option>
                            <option value="date">date</option>
                            <option value="text">text</option>
                            <option value="numéro">numéro</option>
                        </select>
                    </div>
                    <p class="editable">Type du champs
                        <a href="#!" class="secondary-content"><i class="material-icons delete" field="2">delete</i></a>
                    </p>
                    <div class="clear"></div>
                    <div class="divider"></div>
                </div>
                <div class="section col s6 offset-s2" field="3">
                    <h5><div class="edit" >Nom du champs</div></h5>
                    <div class="input-field col s4 editeur">
                        <select>
                            <option value="" disabled selected>Type du champ</option>
                            <option value="date">date</option>
                            <option value="text">text</option>
                            <option value="numéro">numéro</option>
                        </select>
                    </div>
                    <p class="editable">Type du champs
                        <a href="#!" class="secondary-content"><i class="material-icons delete" field="3">delete</i></a>
                    </p>
                    <div class="clear"></div>
                    <div class="divider"></div>
                </div>
            </div>
            <div class="row">
                <div class="col s6 offset-s2">
                    <a class="btn-floating btn-large waves-effect waves-light"><i class="material-icons add">add</i></a>
                </div>
            </div>
            <div class="row">
                <div class="col s6 offset-s2">
                    <a href="template.html" class="waves-effect waves-light btn">Choisir un template <i class="material-icons right">send</i></a>
                </div>
            </div>
        </div>
    </div>
    <footer class="page-footer teal">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">Company Bio</h5>
                    <p class="grey-text text-lighten-4">We are a team of college students working on this project like it's our full time job. Any amount would help support and continue development on this project and is greatly appreciated.</p>
                </div>
                <div class="col l3 s12">
                    <h5 class="white-text">Settings</h5>
                    <ul>
                        <li><a class="white-text" href="#!">Link 1</a></li>
                        <li><a class="white-text" href="#!">Link 2</a></li>
                        <li><a class="white-text" href="#!">Link 3</a></li>
                        <li><a class="white-text" href="#!">Link 4</a></li>
                    </ul>
                </div>
                <div class="col l3 s12">
                    <h5 class="white-text">Connect</h5>
                    <ul>
                        <li><a class="white-text" href="#!">Link 1</a></li>
                        <li><a class="white-text" href="#!">Link 2</a></li>
                        <li><a class="white-text" href="#!">Link 3</a></li>
                        <li><a class="white-text" href="#!">Link 4</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                Made by <a class="brown-text text-lighten-3" href="http://materializecss.com">Materialize</a>
            </div>
        </div>
    </footer>
    <!--  Scripts-->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="js/materialize.js"></script>
    <script src="js/init.js"></script>
    <script src="js/editable.js"></script>
</body>
<script>
$(document).ready(function() {


$('select').material_select();

$('.delete').click(function() {
    if($(".section[field]").length > 1){ // il doit rester un champs minimum
        console.log('kpkpkpp');
        var field = $(this).attr('field');
        $("[field=" + field + "]").remove();
    }
});
    $('.add').click(function() {
        var newField = $(".section[field]").length; // compte les div class section 
        $('#formDetails').append('<div class="section col s6 offset-s2" field="' + newField + '"><h5><div class="edit" >Nom du champs</div></h5><div class="input-field col s4 editeur"><select><option value="" disabled selected>Type du champ</option><option value="date">date</option><option value="text">text</option><option value="numéro">numéro</option></select></div><p class="editable">Type du champs<a href="#!" class="secondary-content"><i class="material-icons delete" field="' + newField + '">delete</i></a></p><div class="clear"></div><div class="divider"></div></div>');
    });

    $('.edit').editable('http://www.example.com/save.php', { // envoie une requete ajax avec les data du champs input
        indicator: 'Saving...',
        tooltip: 'Click to edit...'
    });
});

</script>

</html>